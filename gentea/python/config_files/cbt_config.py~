'''Configuration file for gentea.py with basemap CBT_teacup_base'''

database = {
    'user' : 'agilmore',
    'passwd' : 'eromliga',
    'host' : 'XXX.XXX.XX.12', 
    'port' : '1521', 
    'sid' : 'ecohdb'
}

input_image = (r'../work/CBT_teacup_base.png')

# Both of these are optional. They default to size 11 'Arial.ttf'
#this doesn't actually do anything
font_size = 22
font_face = '/usr/share/fonts/liberation/LiberationSans-Regular.ttf'

# Optional; defaults to (1,1). Positions the timestamp on the image.
timestamp_location = (281, 332)

# This function dynamically converts capacities into relative teacup sizes.
# Edit freely (or hand-assign values to the `teacup_size` attributes).
from math import sqrt
sizer = lambda capacity: (sqrt(capacity) + 20) * 0.022

# This is the core of the config file.
# Each output attribute is essentially a json object (python dict) containing
# the necessary information to grab a value from the database and draw it.
output_attributes = [
    # CARTERCO~
    {
        'attribute_type' : 'teacup', 
        'upper_left' : (2725, 948),
        'site_datatype_id' : 100373, 
        'teacup_size' : sizer,
        'capacity' : 112230.0,
        'label' : 'Carter'
    },
    {
        'attribute_type' : 'line',
        'color' : 'red',
        'thickness' : 2,
        'point_a' : (2737, 988),
        'point_b' : (2639, 945)
    },
    {
        'attribute_type' : 'point',
        'color' : 'red',
        'size' : 9,
        'center' : (2639, 945)
    },

    # FLARESCO~
    {
        'attribute_type' : 'teacup', 
        'upper_left' : (2800, 794),
        'site_datatype_id' : 100254, 
        'teacup_size' : sizer,
        'capacity' : 759.6,
        'label' : 'Flatiron'
    },
    {
        'attribute_type' : 'line',
        'color' : 'red',
        'thickness' : 2,
        'point_a' : (2797, 802),
        'point_b' : (2607, 835)
    },
    {
        'attribute_type' : 'point',
        'color' : 'red',
        'size' : 9,
        'center' : (2607, 835)
    },
    
    # GLARESCO~
    {
        'attribute_type' : 'teacup', 
        'upper_left' : (1412, 848),
        'site_datatype_id' : 100596, 
        'teacup_size' : sizer,
        'capacity' : 1015,
        'label' : 'Grand Lake'
    },
    {
        'attribute_type' : 'line',
        'color' : 'red',
        'thickness' : 2,
        'point_a' : (1442, 958),
        'point_b' : (1440, 1074)
    },
    {
        'attribute_type' : 'point',
        'color' : 'red',
        'size' : 9,
        'center' : (1440, 1074)
    },
    
    # GRARESCO~
    {
        'attribute_type' : 'teacup', 
        'upper_left' : (820, 1477),
        'site_datatype_id' : 100403, 
        'teacup_size' : sizer,
        'capacity' : 539758,
        'label' : 'Granby'
    },
    {
        'attribute_type' : 'line',
        'color' : 'red',
        'thickness' : 2,
        'point_a' : (1212, 1462),
        'point_b' : (1384, 1300)
    },
    {
        'attribute_type' : 'point',
        'color' : 'red',
        'size' : 9,
        'center' : (1384, 1300)
    },
    
    # GRERESCO~
    {
        'attribute_type' : 'teacup', 
        'upper_left' : (310, 1880),
        'site_datatype_id' : 100257, 
        'teacup_size' : sizer,
        'capacity' : 153639,
        'label' : 'Green Mountain'
    },
    {
        'attribute_type' : 'line',
        'color' : 'red',
        'thickness' : 2,
        'point_a' : (500, 1880),
        'point_b' : (532, 1840)
    },
    {
        'attribute_type' : 'point',
        'color' : 'red',
        'size' : 9,
        'center' : (532, 1840)
    },
    
    # HORTOOCO~
    {
        'attribute_type' : 'teacup', 
        'upper_left' : (2336, 252),
        'site_datatype_id' : 100408, 
        'teacup_size' : sizer,
        'capacity' : 156735,
        'label' : 'Horsetooth'
    },
    {
        'attribute_type' : 'line',
        'color' : 'red',
        'thickness' : 2,
        'point_a' : (2576, 348),
        'point_b' : (2732, 433)
    },
    {
        'attribute_type' : 'point',
        'color' : 'red',
        'size' : 9,
        'center' : (2732, 433)
    },
    
    # MARYLACO~
    {
        'attribute_type' : 'teacup', 
        'upper_left' : (2067, 929),
        'site_datatype_id' : 100246, 
        'teacup_size' : sizer,
        'capacity' : 927,
        'label' : "Marys"
    },
    {
        'attribute_type' : 'line',
        'color' : 'red',
        'thickness' : 2,
        'point_a' : (2075, 924),
        'point_b' : (2020, 894)
    },
    {
        'attribute_type' : 'point',
        'color' : 'red',
        'size' : 9,
        'center' : (2020, 894)
    },
    
    # OLYDAMCO~
    {
        'attribute_type' : 'teacup', 
        'upper_left' : (1936, 626),
        'site_datatype_id' : 100251, 
        'teacup_size' : sizer,
        'capacity' : 2978,
        'label' : 'Lake Estes'
    },
    {
        'attribute_type' : 'line',
        'color' : 'red',
        'thickness' : 2,
        'point_a' : (2033, 720),
        'point_b' : (2073, 822)
    },
    {
        'attribute_type' : 'point',
        'color' : 'red',
        'size' : 9,
        'center' : (2073, 822)
    },

    # PINRESCO~
    {
        'attribute_type' : 'teacup', 
        'upper_left' : (2308, 878),
        'site_datatype_id' : 100253, 
        'teacup_size' : sizer,
        'capacity' : 2181,
        'label' : 'Pinewood'
    },
    {
        'attribute_type' : 'line',
        'color' : 'red',
        'thickness' : 2,
        'point_a' : (2354, 886),
        'point_b' : (2500, 850)
    },
    {
        'attribute_type' : 'point',
        'color' : 'red',
        'size' : 9,
        'center' : (2500, 850)
    },
    
    # SHARESCO~
    {
        'attribute_type' : 'teacup', 
        'upper_left' : (1064, 1064),
        'site_datatype_id' : 100464, 
        'teacup_size' : sizer,
        'capacity' : 18369,
        'label' : 'Shadow Mountain'
    },
    {
        'attribute_type' : 'line',
        'color' : 'red',
        'thickness' : 2,
        'point_a' : (1161, 1090),
        'point_b' : (1380, 1132)
    },
    {
        'attribute_type' : 'point',
        'color' : 'red',
        'size' : 9,
        'center' : (1380, 1132)
    },
    
    # WILRESCO~
    {
        'attribute_type' : 'teacup', 
        'upper_left' : (868, 1232),
        'site_datatype_id' : 100470, 
        'teacup_size' : sizer,
        'capacity' : 10553.0,
        'label' : 'Willow Creek'
    },
    {
        'attribute_type' : 'line',
        'color' : 'red',
        'thickness' : 2,
        'point_a' : (972, 1250),
        'point_b' : (1148, 1276)
    },
    {
        'attribute_type' : 'point',
        'color' : 'red',
        'size' : 9,
        'center' : (1148, 1276)
    }
]

if __name__ == '__main__':
    # Convenience for experimenting with sizes
    exec(r"print '\n'.join('%s\t%s' % (a['capacity'], sizer(a['capacity'])) "
         r"for a in output_attributes if a['attribute_type'] == 'teacup')")
