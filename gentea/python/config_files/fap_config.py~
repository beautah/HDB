'''Configuration file for gentea.py with basemap FAP_teacup_base'''

database = {
    'user' : 'agilmore',
    'passwd' : 'eromliga',
    'host' : 'XXX.XXX.XX.12', 
    'port' : '1521', 
    'sid' : 'ecohdb'
}

input_image = (r'T:\Water_Res\Projects\12_008_CBTRunoffForecasting\data\python_gentea'
               r'\work\FAP_teacup_base.png')

# Both of these are optional. They default to size 11 'Arial.ttf'
font_size = 22
font_face = 'Arial.ttf'

# Optional; defaults to (1,1). Positions the timestamp on the image.
timestamp_location = (281, 332) # Upper-left of the "inner" image

# This function dynamically converts capacities into relative teacup sizes.
# Edit freely (or hand-assign values to the `teacup_size` attributes).
sizer = lambda capacity: (capacity)/25333.3

# This is the core of the config file.
# Each output attribute is essentially a json object (python dict) containing
# the necessary information to grab a value from the database and draw it.
output_attributes = [
    
    #MTELFBCO
    {
        'attribute_type' : 'teacup', 
        'upper_left' : (570, 696),
        'site_datatype_id' : 101013, 
        'teacup_size' : 1, # Mt. Elbert is too small to work on the other scale
        'capacity' : 11143,
        'label' : 'Mt. Elbert'
    },
    {
        'attribute_type' : 'line',
        'color' : 'red',
        'thickness' : 2,
        'point_a' : (783, 755),
        'point_b' : (888, 828)
    },
    {
        'attribute_type' : 'point',
        'color' : 'red',
        'size' : 9,
        'center' : (888, 828)
    },


    # PUERESCO
    {
        'attribute_type' : 'teacup', 
        'upper_left' : (2092, 1806),
        'site_datatype_id' : 100450, 
        'teacup_size' : sizer,
        'capacity' : 349940,
        'label' : 'Pueblo'
    },
    {
        'attribute_type' : 'line',
        'color' : 'red',
        'thickness' : 2,
        'point_a' : (2482, 1866),
        'point_b' : (2628, 1757)
    },
    {
        'attribute_type' : 'point',
        'color' : 'red',
        'size' : 9,
        'center' : (2628, 1757)
    },
    
    # RUERESCO
    {
        'attribute_type' : 'teacup', 
        'upper_left' : (504, 296),
        'site_datatype_id' : 100460, 
        'teacup_size' : sizer,
        'capacity' : 102373,
        'label' : 'Ruedi'
    },
    {
        'attribute_type' : 'line',
        'color' : 'red',
        'thickness' : 2,
        'point_a' : (532, 416),
        'point_b' : (422, 550)
    },
    {
        'attribute_type' : 'point',
        'color' : 'red',
        'size' : 9,
        'center' : (422, 550)
    },
    
    # TURQLACO
    {
        'attribute_type' : 'teacup', 
        'upper_left' : (912, 260),
        'site_datatype_id' : 101012, 
        'teacup_size' : sizer,
        'capacity' : 129398.0,
        'label' : 'Turquoise'
    },
    {
        'attribute_type' : 'line',
        'color' : 'red',
        'thickness' : 2,
        'point_a' : (988, 440),
        'point_b' : (900, 652)
    },
    {
        'attribute_type' : 'point',
        'color' : 'red',
        'size' : 9,
        'center' : (900, 652)
    },
    
    # TWIRESCO
    {
        'attribute_type' : 'teacup', 
        'upper_left' : (616, 1144),
        'site_datatype_id' : 101014, 
        'teacup_size' : sizer,
        'capacity' : 141000.0,
        'label' : 'Twin Lakes'
    },
    {
        'attribute_type' : 'line',
        'color' : 'red',
        'thickness' : 2,
        'point_a' : (687, 1131),
        'point_b' : (900, 855)
    },
    {
        'attribute_type' : 'point',
        'color' : 'red',
        'size' : 9,
        'center' : (900, 855)
    }
]

if __name__ == '__main__':
    # Convenience for experimenting with sizes
    exec(r"print '\n'.join('%s\t%s' % (a['capacity'], sizer(a['capacity'])) "
         r"for a in output_attributes if a['attribute_type'] == 'teacup')")
